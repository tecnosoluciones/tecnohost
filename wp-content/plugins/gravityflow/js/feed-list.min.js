!function(n){n(document).ready(function(){var t,e,s,i;n(".colspanchange").attr("colspan",4),1!=n("table.wp-list-table tbody tr").length&&(t=gravityflow_feed_list_strings.hasStartStep,e=gravityflow_feed_list_strings.hasCompleteStep,s=gravityflow_feed_list_strings.formId,i=gravityflow_feed_list_strings.nonce,n.each(n(".wp-list-table tbody tr"),function(){n(this).css("border-left","5px solid "+n(this).find(".step_highlight_color").css("background-color"))}),n(".wp-list-table .step_highlight").remove(),n(".wp-list-table thead tr, .wp-list-table tfoot tr").append('<th class="sort-column"></th>'),t&&n(".wp-list-table tbody tr:first").addClass("static").append('<td class="sort-column">&nbsp;</td>').find("span.duplicate, span.delete").remove().end().find(".column-is_active").html("&nbsp;"),e&&n(".wp-list-table tbody tr:last").addClass("static").append('<td class="sort-column">&nbsp;</td>').find("span.duplicate, span.delete").remove().end().find(".column-is_active").html("&nbsp;"),n(".wp-list-table tbody tr").not(".static").append('<td class="sort-column"><i class="fa fa-bars feed-sort-handle"></i></td>'),n(".wp-list-table tbody").addClass("gravityflow-reorder-mode").sortable({items:"tr:not(.static)",tolerance:"pointer",placeholder:"step-drop-zone",helper:fixHelperModified,handle:".feed-sort-handle",update:function(t,e){var o=n(".wp-list-table tbody .check-column input[type=checkbox]").map(function(){return n(this).val()}).get();n.post(ajaxurl,{action:"gravityflow_save_feed_order",feed_ids:o,form_id:s,nonce:i}).done(function(t){t||(console.log("Error re-ordering feeds"),console.log(t))}).fail(function(t){console.log("Error re-ordering feeds"),console.log(t)})},start:function(){n(".static",this).each(function(){var t=n(this);t.data("pos",t.index())})},change:function(){var o=n(this),t=n(".static",this).detach(),e=n("<tr></tr>").prependTo(this);t.each(function(){var t=n(this),e=t.data("pos");t.insertAfter(n("tr",o).eq(e))}),e.remove()}}))})}((window.GravityFlow=window.GravityFlow||{},jQuery));var fixHelperModified=function(t,e){var o=e.children(),e=(console.log("originals: "+o.length),e.clone());return e.children().each(function(t){jQuery(this).width(o.eq(t).width())}),e};