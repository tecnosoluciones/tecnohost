jQuery(function(n){function h(){n(".yfwp-select").select2({minimumResultsForSearch:Infinity}),n(window).trigger("resize")}h();var c=n(document).find(".yith-faq-shortcodes-list-popup-wrapper"),d=c.find("form");function t(e,i,s){var a=n(".yith-faq-shortcodes");a.addClass("processing"),a.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),n.ajax({url:e.attr("href"),success:function(e){var t,r,o;0<n(e).find(".yith-faq-shortcodes-list-popup-wrapper").length&&(n(".yith-faq-shortcodes-list-popup-wrapper").html("").html(n(e).find(".yith-faq-shortcodes-list-popup-wrapper").html()),e=i,t=s,c=n(document).find(".yith-faq-shortcodes-list-popup-wrapper"),r="insert"===e?yfwp_admin.title_new:yfwp_admin.title_edit,o="insert"===e?yfwp_admin.create_btn_text:yfwp_admin.save_btn_text,(d=c.find("form")).find('input[name="action"').val(e),"edit"===e&&(d.find("#yfwp_shortcode_shortcode_type").prop("disabled",!0),d.find("tr.shortcode_type").hide(),d.find('input[name="shortcode_id"').val(t)),c.dialog({closeText:"",title:r.replace(/&#039;/g,"'"),width:600,modal:!0,dialogClass:"yith-plugin-ui yith-faq-shortcodes-list-popup",buttons:[{text:o.replace(/&#039;/g,"'"),click:function(e){window.onbeforeunload=null;var t=n("#yfwp_shortcode_shortcode_title"),r=n("#yfwp_shortcode_faq_to_show"),o=n("#yfwp_shortcode_shortcode_type"),i=n("#yfwp_shortcode_page_id"),s=n("#yfwp_shortcode_categories");return t.parent().removeClass("has-error").find("small").remove(),s.parent().removeClass("has-error").find("small").remove(),i.parent().removeClass("has-error").find("small").remove(),""===t.val()?(e.preventDefault(),t.parent().addClass("has-error").append('<small class="field-error ">'+yfwp_admin.errors.missing_field+"</small>"),!1):"all"!==r.val()&&0===s.find("option").length?(e.preventDefault(),s.parent().addClass("has-error").append('<small class="field-error ">'+yfwp_admin.errors.missing_category+"</small>"),!1):"summary"===o.val()&&""===i.val()?(e.preventDefault(),i.parent().addClass("has-error").append('<small class="field-error ">'+yfwp_admin.errors.missing_page+"</small>"),!1):void d.submit()},"class":"yith-save-button"}],position:{my:"center center",at:"center center",of:"#wpwrap",collision:"fit"}}),n(document.body).trigger("wc-enhanced-select-init").trigger("yith-framework-enhanced-select-init").trigger("yith_fields_init"),n("#yfwp_shortcode_shortcode_type").on("change",function(){"faqs"===n(this).val()?(n("tr.summary").hide(),n("tr.faqs").show(500),n("#yfwp_shortcode_style").trigger("change"),n("#yfwp_shortcode_show_pagination").trigger("change")):(n("tr.faqs").hide(),n("tr.summary").show(500))}).trigger("change"),n("#yfwp_shortcode_show_icon").on("change",function(){"off"===n(this).val()||"list"===n("#yfwp_shortcode_style").val()?(n("tr.icon_size").hide(),n("tr.icon").hide()):(n("tr.icon_size").show(500),n("tr.icon").show(500))}).trigger("change"),n("#yfwp_shortcode_style").on("change",function(){"list"===n(this).val()?(n("tr.expand_faq").hide(),n("tr.show_icon").hide(),n("tr.icon_size").hide(),n("tr.icon").hide()):(n("tr.expand_faq").show(500),n("tr.show_icon").show(500),n("#yfwp_shortcode_show_icon").trigger("change"))}).trigger("change"),n("#yfwp_shortcode_faq_to_show").on("change",function(){"all"===n(this).val()?n("tr.categories").hide():n("tr.categories").show(500)}).trigger("change"),n("#yfwp_shortcode_show_pagination").on("change",function(){n(this).is(":checked")&&"faqs"===n("#yfwp_shortcode_shortcode_type").val()?n("tr.page_size").show(500):n("tr.page_size").hide()}).trigger("change"),h()),a.unblock()}})}n(document).on("click",".yith-add-button",function(e){e.preventDefault(),t(n(this),"insert",0)}),n(document).on("click",".column-actions a.edit",function(e){e.preventDefault(),t(n(this),"edit",n(this).data("shortcode_id"))}),n(".yith-faq-shortcodes-notice").on("click",".notice-dismiss",function(){n(this).parent().hide()}),history.pushState(null,"",s(location.href));var e=n(".next-page"),r=n(".prev-page"),o=n(".first-page"),i=n(".last-page");function s(e){return e=e.replace(/&?action=([^&]$|[^&]*)/i,"")}0<e.length&&e.attr("href",s(e.attr("href"))),0<r.length&&r.attr("href",s(r.attr("href"))),0<o.length&&o.attr("href",s(o.attr("href"))),0<i.length&&i.attr("href",s(i.attr("href"))),n(window).on("resize",function(){var e=n(".yith-faq-shortcodes-list-popup");n(window).height()<e.height()?e.css({top:0,"-webkit-transform":"none",transform:"none"}):e.css({top:"50%","-webkit-transform":"translateY(-50%)",transform:"translateY(-50%)"})})});